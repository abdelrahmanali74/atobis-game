<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="ูุนุจุฉ ุงูุฌุงุณูุณ ุฃูููุงูู - ุงูุนุจ ูุน ุฃุตุฏูุงุฆู ูุงูุชุดู ููู ุงูุฌุงุณูุณ! ูุนุจุฉ ุฌูุงุนูุฉ ุนุฑุจูุฉ ููุชุนุฉ ููุฌุงููุฉ.">
    <title>ูุนุจุฉ ุงูุฌุงุณูุณ | ุงูุชุดู ููู ุงูุฌุงุณูุณ!</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="spy-styles.css">
</head>

<body data-theme="dark">
    <!-- ุฒุฑุงุฑ ุชุจุฏูู ุงูุซูู -->
    <button id="theme-toggle" class="theme-toggle" title="ุชุจุฏูู ุงููุถุน ุงููููู/ุงูููุงุฑู">
        <span class="theme-icon">๐</span>
    </button>

    <!-- ุฒุฑุงุฑ ุงูุนูุฏุฉ ููุฑุฆูุณูุฉ -->
    <a href="/" class="back-home-btn" title="ุงูุนูุฏุฉ ููุฑุฆูุณูุฉ">
        <span>๐</span>
    </a>

    <!-- ==================== ุดุงุดุฉ ุงูุจุฏุงูุฉ ==================== -->
    <div id="spy-start-screen" class="screen active">
        <div class="container">
            <div class="logo-container">
                <div class="spy-icon">๐ต๏ธ</div>
                <h1 class="game-title spy-title">ูุนุจุฉ ุงูุฌุงุณูุณ</h1>
                <p class="game-subtitle">ุงูุชุดู ููู ุงูุฌุงุณูุณ ุจูููู! ๐</p>
            </div>

            <div class="start-card spy-card">
                <div class="input-group">
                    <label for="spy-player-name">ุงุณู ุงููุงุนุจ</label>
                    <input type="text" id="spy-player-name" placeholder="ุฃุฏุฎู ุงุณูู ููุง" maxlength="20">
                </div>

                <div class="input-group">
                    <label for="spy-room-code">ููุฏ ุงูุบุฑูุฉ (ุงุฎุชูุงุฑู)</label>
                    <input type="text" id="spy-room-code" placeholder="ุงุชุฑู ูุงุฑุบุงู ูุฅูุดุงุก ุบุฑูุฉ ุฌุฏูุฏุฉ" maxlength="6">
                </div>

                <button id="spy-start-btn" class="btn btn-primary spy-btn">
                    <span>ุงุจุฏุฃ ุงููุนุจ</span>
                    <span class="btn-icon">๐ต๏ธ</span>
                </button>
            </div>
        </div>
    </div>

    <!-- ==================== ุดุงุดุฉ ุงูุงูุชุธุงุฑ ==================== -->
    <div id="spy-waiting-screen" class="screen">
        <div class="container">
            <div class="waiting-card spy-card">
                <h2>๐ต๏ธ ูู ุงูุชุธุงุฑ ุงููุงุนุจูู...</h2>
                <div class="room-info">
                    <p>ููุฏ ุงูุบุฑูุฉ:</p>
                    <div class="room-code-display">
                        <span id="spy-display-room-code">------</span>
                        <button id="spy-copy-code-btn" class="btn-icon-small" title="ูุณุฎ ุงูููุฏ">๐</button>
                    </div>
                </div>

                <div class="players-list">
                    <h3>ุงููุงุนุจูู ุงููุชุตููู (<span id="spy-players-count">0</span>)</h3>
                    <div id="spy-players-container"></div>
                </div>

                <!-- ุฅุนุฏุงุฏุงุช ุงูููุณุช -->
                <div id="spy-host-controls" class="host-controls" style="display: none;">
                    <h3>โ๏ธ ุฅุนุฏุงุฏุงุช ุงููุนุจุฉ</h3>

                    <div class="setting-group">
                        <label>๐ต๏ธ ุนุฏุฏ ุงูุฌูุงุณูุณ:</label>
                        <select id="spy-count-select">
                            <option value="1" selected>1 ุฌุงุณูุณ</option>
                            <option value="2">2 ุฌุงุณูุณ</option>
                            <option value="3">3 ุฌูุงุณูุณ</option>
                        </select>
                    </div>

                    <div class="setting-group">
                        <label>โฑ๏ธ ููุช ุงูููุงูุดุฉ (ุจุงูุซุงููุฉ):</label>
                        <select id="spy-timer-select">
                            <option value="60">60 ุซุงููุฉ (1 ุฏูููุฉ)</option>
                            <option value="90">90 ุซุงููุฉ (1.5 ุฏูููุฉ)</option>
                            <option value="120" selected>120 ุซุงููุฉ (2 ุฏูููุฉ)</option>
                            <option value="180">180 ุซุงููุฉ (3 ุฏูุงูู)</option>
                            <option value="300">300 ุซุงููุฉ (5 ุฏูุงูู)</option>
                        </select>
                    </div>

                    <div class="setting-group">
                        <label>๐ข ุนุฏุฏ ุงูุฌููุงุช:</label>
                        <select id="spy-rounds-select">
                            <option value="3">3 ุฌููุงุช</option>
                            <option value="5" selected>5 ุฌููุงุช</option>
                            <option value="10">10 ุฌููุงุช</option>
                        </select>
                    </div>

                    <div class="setting-group">
                        <label>๐ ุงุฎุชุฑ ุงููุฆุฉ:</label>
                        <div id="spy-categories-selector" class="categories-selector">
                            <!-- ุณุชููุฃ ุจุงูุฌุงูุงุณูุฑูุจุช -->
                        </div>
                    </div>

                    <button id="spy-start-game-btn" class="btn btn-primary spy-btn">
                        <span>ุงุจุฏุฃ ุงููุนุจุฉ</span>
                        <span class="btn-icon">๐</span>
                    </button>
                </div>

                <div id="spy-waiting-message" style="display: none;">
                    <p>ูู ุงูุชุธุงุฑ ุงููุถูู ูุจุฏุก ุงููุนุจุฉ...</p>
                </div>
            </div>
        </div>
    </div>

    <!-- ==================== ุดุงุดุฉ ุงููุดู ุนู ุงูุฏูุฑ ==================== -->
    <div id="spy-role-screen" class="screen">
        <div class="container">
            <div class="spy-role-card">
                <div class="round-badge">
                    ุฌููุฉ <span id="spy-round-display">1</span> / <span id="spy-total-rounds-display">5</span>
                </div>

                <div class="role-reveal-container">
                    <div id="spy-role-hidden" class="role-hidden">
                        <div class="tap-icon">๐</div>
                        <h2>ุงุถุบุท ููุดู ุฏูุฑู</h2>
                        <p class="role-hint">ุชุฃูุฏ ุฅู ูุญุฏุด ุดุงูู ุงูุดุงุดุฉ!</p>
                    </div>

                    <div id="spy-role-revealed" class="role-revealed" style="display: none;">
                        <div id="spy-role-emoji" class="role-emoji">โ</div>
                        <h2 id="spy-role-title" class="role-title">ุฃูุช ูุงุนุจ ุนุงุฏู</h2>
                        <div id="spy-role-word-container" class="role-word-container">
                            <p class="role-category-label">ุงููุฆุฉ: <span id="spy-role-category">---</span></p>
                            <div class="role-word">
                                <span id="spy-role-word">---</span>
                            </div>
                        </div>
                        <button id="spy-hide-role-btn" class="btn btn-secondary spy-btn">
                            <span>ุฅุฎูุงุก ูุชุฃููุฏ</span>
                            <span class="btn-icon">โ</span>
                        </button>
                    </div>

                    <div id="spy-role-confirmed" class="role-confirmed" style="display: none;">
                        <div class="confirmed-icon">โ</div>
                        <h2>ุชู ุงูุชุฃููุฏ!</h2>
                        <p>ูู ุงูุชุธุงุฑ ุจุงูู ุงููุงุนุจูู...</p>
                        <div id="spy-confirmed-count" class="confirmed-count">0 / 0</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ==================== ุดุงุดุฉ ุงูููุงูุดุฉ (ุงูุชุงููุฑ) ==================== -->
    <div id="spy-discussion-screen" class="screen">
        <div class="container">
            <div class="spy-discussion-card">
                <div class="discussion-header">
                    <h2>๐ฃ๏ธ ููุช ุงูููุงูุดุฉ!</h2>
                    <div class="round-badge">
                        ุฌููุฉ <span id="spy-discussion-round">1</span> / <span id="spy-discussion-total">5</span>
                    </div>
                </div>

                <div class="timer-container">
                    <div class="timer-circle">
                        <svg class="timer-svg" viewBox="0 0 100 100">
                            <circle class="timer-bg" cx="50" cy="50" r="45"></circle>
                            <circle id="spy-timer-progress" class="timer-progress" cx="50" cy="50" r="45"></circle>
                        </svg>
                        <div class="timer-text">
                            <span id="spy-timer-display" class="timer-big">2:00</span>
                        </div>
                    </div>
                </div>

                <div class="discussion-info">
                    <p id="spy-discussion-category-label" class="category-badge">
                        ๐ ุงููุฆุฉ: <strong id="spy-discussion-category">---</strong>
                    </p>
                    <p id="spy-your-word-reminder" class="word-reminder" style="display:none;">
                        ๐ ูููุชู: <strong id="spy-your-word-text">---</strong>
                    </p>
                    <p id="spy-you-are-spy-reminder" class="spy-reminder" style="display:none;">
                        ๐ต๏ธ ุฃูุช ุงูุฌุงุณูุณ! ุญุงูู ุชุนุฑู ุงููููุฉ!
                    </p>
                </div>

                <div class="discussion-tip">
                    <p>๐ก ุงุณุฃู ุฃุณุฆูุฉ ุฐููุฉ ุนุดุงู ุชูุชุดู ููู ุงูุฌุงุณูุณ!</p>
                    <p>โ๏ธ ุงูุฌุงุณูุณ ุจูุญุงูู ูุนุฑู ุงููููุฉ ูู ููุงููู!</p>
                </div>
            </div>
        </div>
    </div>

    <!-- ==================== ุดุงุดุฉ ุงูุชุตููุช ==================== -->
    <div id="spy-voting-screen" class="screen">
        <div class="container">
            <div class="spy-voting-card">
                <h2>๐ณ๏ธ ููุช ุงูุชุตููุช!</h2>
                <p class="voting-subtitle">ููู ุชูุชูุฑ ุงูุฌุงุณูุณุ</p>

                <div id="spy-voting-players" class="voting-players-grid">
                    <!-- ุณุชููุฃ ุจุงูุฌุงูุงุณูุฑูุจุช -->
                </div>

                <button id="spy-submit-vote-btn" class="btn btn-primary spy-btn" disabled>
                    <span>ุชุฃููุฏ ุงูุชุตููุช</span>
                    <span class="btn-icon">๐ณ๏ธ</span>
                </button>

                <div id="spy-waiting-votes" class="waiting-votes" style="display: none;">
                    <p>ูู ุงูุชุธุงุฑ ุจุงูู ุงููุงุนุจูู ููุชุตููุช...</p>
                    <div id="spy-votes-count" class="confirmed-count">0 / 0</div>
                </div>
            </div>
        </div>
    </div>

    <!-- ==================== ุดุงุดุฉ ุชุฎููู ุงูุฌุงุณูุณ ==================== -->
    <div id="spy-guess-screen" class="screen">
        <div class="container">
            <div class="spy-guess-card">
                <h2>๐ต๏ธ ุงูุฌุงุณูุณ ูุญุงูู ูุฎูู!</h2>
                <p class="guess-subtitle" id="spy-guess-subtitle">ุงูุฌุงุณูุณ ุนูุฏู ูุฑุตุฉ ูุฎูู ุงููููุฉ ุงูุตุญ!</p>

                <div id="spy-guess-container" style="display:none;">
                    <p class="guess-category">ุงููุฆุฉ: <strong id="spy-guess-category">---</strong></p>
                    <div class="guess-options" id="spy-guess-options">
                        <!-- ุณุชููุฃ ุจุงูุฌุงูุงุณูุฑูุจุช -->
                    </div>
                    <button id="spy-submit-guess-btn" class="btn btn-primary spy-btn" disabled>
                        <span>ุชุฃููุฏ ุงูุชุฎููู</span>
                        <span class="btn-icon">๐ฏ</span>
                    </button>
                </div>

                <div id="spy-guess-waiting" style="display:none;">
                    <div class="spy-waiting-animation">
                        <span>๐ต๏ธ</span>
                    </div>
                    <p>ุงูุฌุงุณูุณ ุจูุฎุชุงุฑ... ุงุณุชูู!</p>
                </div>
            </div>
        </div>
    </div>

    <!-- ==================== ุดุงุดุฉ ูุชูุฌุฉ ุงูุฌููุฉ ==================== -->
    <div id="spy-round-result-screen" class="screen">
        <div class="container">
            <div class="spy-result-card">
                <div id="spy-result-icon" class="result-icon">๐</div>
                <h2 id="spy-result-title" class="result-title">ุงููุชูุฌุฉ!</h2>
                <p id="spy-result-message" class="result-message">---</p>

                <div class="result-details">
                    <div class="result-detail-item">
                        <span class="detail-label">ุงููููุฉ ูุงูุช:</span>
                        <span id="spy-result-word" class="detail-value">---</span>
                    </div>
                    <div class="result-detail-item">
                        <span class="detail-label">ุงููุฆุฉ:</span>
                        <span id="spy-result-category" class="detail-value">---</span>
                    </div>
                    <div class="result-detail-item">
                        <span class="detail-label">ุงูุฌุงุณูุณ/ุงูุฌูุงุณูุณ:</span>
                        <span id="spy-result-spies" class="detail-value spy-name">---</span>
                    </div>
                </div>

                <div class="round-scores" id="spy-round-scores">
                    <!-- ุณุชููุฃ ุจุงูุฌุงูุงุณูุฑูุจุช -->
                </div>

                <div id="spy-host-next-controls" style="display:none;">
                    <button id="spy-next-round-btn" class="btn btn-primary spy-btn">
                        <span>ุงูุฌููุฉ ุงูุชุงููุฉ</span>
                        <span class="btn-icon">โก๏ธ</span>
                    </button>
                </div>
                <div id="spy-waiting-next" style="display:none;">
                    <p>ูู ุงูุชุธุงุฑ ุงููุถูู ููุฌููุฉ ุงูุชุงููุฉ...</p>
                </div>
            </div>
        </div>
    </div>

    <!-- ==================== ุดุงุดุฉ ุงููุชุงุฆุฌ ุงูููุงุฆูุฉ ==================== -->
    <div id="spy-final-screen" class="screen">
        <div class="container">
            <div class="results-card final-results spy-card">
                <h1>๐ ุงููุชุงุฆุฌ ุงูููุงุฆูุฉ ๐</h1>
                <div id="spy-podium" class="podium"></div>

                <div class="leaderboard">
                    <h3>ุชุฑุชูุจ ุงููุงุนุจูู</h3>
                    <ul id="spy-leaderboard-list"></ul>
                </div>

                <div class="results-actions">
                    <button id="spy-go-home-btn" class="btn btn-secondary">
                        <span>ุงูุนูุฏุฉ ููุฑุฆูุณูุฉ</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- ุชุฐููู ุงูุตูุญุฉ -->
    <footer class="game-footer">
        <p>Developed by <strong>Abdelrahman Ali</strong></p>
    </footer>

    <!-- Toast -->
    <div id="spy-toast" class="toast"></div>

    <!-- Socket.IO Client -->
    <script src="/socket.io/socket.io.js"></script>
    <script src="spy-app.js"></script>
</body>

</html>